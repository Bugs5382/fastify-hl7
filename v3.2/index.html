<!DOCTYPE html><html class="default" lang="en" data-base="."><head><meta charset="utf-8"/><meta http-equiv="x-ua-compatible" content="IE=edge"/><title>Fastify HL7 - v3.2.0</title><meta name="description" content="Documentation for Fastify HL7"/><meta name="viewport" content="width=device-width, initial-scale=1"/><link rel="stylesheet" href="assets/style.css"/><link rel="stylesheet" href="assets/highlight.css"/><script defer src="assets/main.js"></script><script async src="assets/icons.js" id="tsd-icons-script"></script><script async src="assets/search.js" id="tsd-search-script"></script><script async src="assets/navigation.js" id="tsd-nav-script"></script><style>
				.tsd-ext-version-select .settings-label {
					margin: 0.75rem 0.75rem 0 0;
			</style></head><body><script>document.documentElement.dataset.theme = localStorage.getItem("tsd-theme") || "os";document.body.style.display="none";setTimeout(() => app?app.showPage():document.body.style.removeProperty("display"),500)</script><header class="tsd-page-toolbar"><div class="tsd-toolbar-contents container"><div class="table-cell" id="tsd-search"><div class="field"><label for="tsd-search-field" class="tsd-widget tsd-toolbar-icon search no-caption"><svg width="16" height="16" viewBox="0 0 16 16" fill="none"><use href="assets/icons.svg#icon-search"></use></svg></label><input type="text" id="tsd-search-field" aria-label="Search"/></div><div class="field"><div id="tsd-toolbar-links"></div></div><ul class="results"><li class="state loading">Preparing search index...</li><li class="state failure">The search index is not available</li></ul><a href="index.html" class="title">Fastify HL7 - v3.2.0</a></div><div class="table-cell" id="tsd-widgets"><a href="#" class="tsd-widget tsd-toolbar-icon menu no-caption" data-toggle="menu" aria-label="Menu"><svg width="16" height="16" viewBox="0 0 16 16" fill="none"><use href="assets/icons.svg#icon-menu"></use></svg></a></div></div></header><div class="container container-main"><div class="col-content"><div class="tsd-page-title"><h1>Fastify HL7 - v3.2.0</h1></div><div class="tsd-panel tsd-typography"><a id="fastify-hl7" class="tsd-anchor"></a><h1 class="tsd-anchor-link">Fastify HL7<a href="#fastify-hl7" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24"><use href="assets/icons.svg#icon-anchor"></use></svg></a></h1><p>A Fastify Hl7 Plugin Developed in Pure TypeScript.
It uses the <a href="https://github.com/Bugs5382/node-hl7-client">node-hl7-client</a> and <a href="https://github.com/Bugs5382/node-hl7-server">node-hl7-server</a> plugin as a wrapper.</p>
<p>The build exports this to valid ESM and CJS for ease of cross-compatibility.</p>
<p>If you are using this NPM package, please consider giving it a :star: star.
This will increase its visibility and solicit more contribution from the outside.</p>
<p>This documentation is how to use this plugin, not on how to use the libraries above.
Head <a href="#external-libraries-options">here</a> if you need help with those.</p>
<a id="table-of-contents" class="tsd-anchor"></a><h2 class="tsd-anchor-link">Table of Contents<a href="#table-of-contents" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24"><use href="assets/icons.svg#icon-anchor"></use></svg></a></h2><ol>
<li><a href="#install">Install</a></li>
<li><a href="#basic-usage">Basic Usage</a>
<ol>
<li><a href="#server-quick-start">Server Quick Start</a></li>
<li><a href="#client-quick-start">Client Quick Start</a></li>
</ol>
</li>
<li><a href="#full-documentation">Full Documentation</a>
<ol>
<li><a href="#this-library-options">This Library Options</a></li>
<li><a href="#external-libraries-options">External Libraries Options</a></li>
</ol>
</li>
<li><a href="#acknowledgements">Acknowledgements</a></li>
<li><a href="#license">License</a></li>
</ol>
<a id="install" class="tsd-anchor"></a><h2 class="tsd-anchor-link">Install<a href="#install" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24"><use href="assets/icons.svg#icon-anchor"></use></svg></a></h2><pre><code><span class="hl-0">npm</span><span class="hl-1"> </span><span class="hl-0">install</span><span class="hl-1"> </span><span class="hl-0">fastify</span><span class="hl-1">-</span><span class="hl-0">hl7</span>
</code><button>Copy</button></pre>

<a id="basic-usage" class="tsd-anchor"></a><h2 class="tsd-anchor-link">Basic Usage<a href="#basic-usage" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24"><use href="assets/icons.svg#icon-anchor"></use></svg></a></h2><p>Register this as a plugin.</p>
<pre><code class="ts"><span class="hl-2">await</span><span class="hl-1"> </span><span class="hl-0">fastify</span><span class="hl-1">.</span><span class="hl-3">register</span><span class="hl-1">(</span><span class="hl-0">fastifyHL7</span><span class="hl-1">);</span>
</code><button type="button">Copy</button></pre>

<a id="server-quick-start" class="tsd-anchor"></a><h3 class="tsd-anchor-link">Server Quick Start<a href="#server-quick-start" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24"><use href="assets/icons.svg#icon-anchor"></use></svg></a></h3><pre><code class="ts"><span class="hl-4">const</span><span class="hl-1"> </span><span class="hl-5">listener</span><span class="hl-1"> = </span><span class="hl-0">fastify</span><span class="hl-1">.</span><span class="hl-0">hl7</span><span class="hl-1">.</span><span class="hl-3">createInbound</span><span class="hl-1">(</span><br/><span class="hl-1">  </span><span class="hl-6">&quot;ib_adt&quot;</span><span class="hl-1">,</span><br/><span class="hl-1">  { </span><span class="hl-0">port:</span><span class="hl-1"> </span><span class="hl-7">3001</span><span class="hl-1"> },</span><br/><span class="hl-1">  </span><span class="hl-4">async</span><span class="hl-1"> (</span><span class="hl-0">req</span><span class="hl-1">, </span><span class="hl-0">res</span><span class="hl-1">) </span><span class="hl-4">=&gt;</span><span class="hl-1"> {</span><br/><span class="hl-1">    </span><span class="hl-4">const</span><span class="hl-1"> </span><span class="hl-5">messageReq</span><span class="hl-1"> = </span><span class="hl-0">req</span><span class="hl-1">.</span><span class="hl-3">getMessage</span><span class="hl-1">();</span><br/><span class="hl-1">    </span><span class="hl-4">const</span><span class="hl-1"> </span><span class="hl-5">messageType</span><span class="hl-1"> = </span><span class="hl-0">req</span><span class="hl-1">.</span><span class="hl-3">getType</span><span class="hl-1">();</span><br/><span class="hl-1">    </span><span class="hl-8">// your logic here</span><br/><span class="hl-1">    </span><span class="hl-2">await</span><span class="hl-1"> </span><span class="hl-0">res</span><span class="hl-1">.</span><span class="hl-3">sendResponse</span><span class="hl-1">(</span><span class="hl-6">&quot;AA&quot;</span><span class="hl-1">);</span><br/><span class="hl-1">  },</span><br/><span class="hl-1">);</span>
</code><button type="button">Copy</button></pre>

<p>This will create a inbound connection. You can optionally return it to a variable to attach advanced listeners.</p>
<a id="client-quick-start" class="tsd-anchor"></a><h3 class="tsd-anchor-link">Client Quick Start<a href="#client-quick-start" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24"><use href="assets/icons.svg#icon-anchor"></use></svg></a></h3><pre><code class="ts"><span class="hl-2">import</span><span class="hl-1"> </span><span class="hl-0">fastify</span><span class="hl-1"> </span><span class="hl-2">from</span><span class="hl-1"> </span><span class="hl-6">&quot;fastify&quot;</span><span class="hl-1">;</span><br/><br/><span class="hl-0">fastify</span><span class="hl-1">.</span><span class="hl-0">hl7</span><span class="hl-1">.</span><span class="hl-3">createClient</span><span class="hl-1">(</span><span class="hl-6">&quot;localhost&quot;</span><span class="hl-1">, { </span><span class="hl-0">host:</span><span class="hl-1"> </span><span class="hl-6">&quot;0.0.0.0&quot;</span><span class="hl-1"> });</span>
</code><button type="button">Copy</button></pre>

<p>This will create a &quot;client&quot; class that will then allow you to attach different outbound connections.
The name <code>localhost</code> in a unique identifier to this host, so it can be used to attach different outbound connections to this server/broker.</p>
<p>There might be times when your HL7 messages need to cross-over to different hosts/server/inbound endpoints and this is how you would get them.</p>
<p>Within your code now you can use the fastify context and access the <code>hl7</code> decorator,
and create an outbound connection.</p>
<pre><code class="ts"><span class="hl-4">const</span><span class="hl-1"> </span><span class="hl-5">client</span><span class="hl-1"> = </span><span class="hl-0">fastify</span><span class="hl-1">.</span><span class="hl-0">hl7</span><span class="hl-1">.</span><span class="hl-3">createConnection</span><span class="hl-1">(</span><br/><span class="hl-1">  </span><span class="hl-6">&quot;ob_adt&quot;</span><span class="hl-1">,</span><br/><span class="hl-1">  { </span><span class="hl-0">port:</span><span class="hl-1"> </span><span class="hl-7">3001</span><span class="hl-1"> },</span><br/><span class="hl-1">  </span><span class="hl-4">async</span><span class="hl-1"> (</span><span class="hl-0">res</span><span class="hl-1">) </span><span class="hl-4">=&gt;</span><span class="hl-1"> {</span><br/><span class="hl-1">    </span><span class="hl-4">const</span><span class="hl-1"> </span><span class="hl-5">messageRes</span><span class="hl-1"> = </span><span class="hl-0">res</span><span class="hl-1">.</span><span class="hl-3">getMessage</span><span class="hl-1">();</span><br/><span class="hl-1">    </span><span class="hl-8">// Your code here. Either a failure or a success, but still do your work here.</span><br/><span class="hl-1">  },</span><br/><span class="hl-1">);</span><br/><br/><span class="hl-8">// building a HL7 Message Segment</span><br/><span class="hl-4">const</span><span class="hl-1"> </span><span class="hl-5">message</span><span class="hl-1"> = </span><span class="hl-0">app</span><span class="hl-1">.</span><span class="hl-0">hl7</span><span class="hl-1">.</span><span class="hl-3">buildMessage</span><span class="hl-1">({</span><br/><span class="hl-1">  </span><span class="hl-0">messageHeader:</span><span class="hl-1"> {</span><br/><span class="hl-1">    </span><span class="hl-0">msh_9_1:</span><span class="hl-1"> </span><span class="hl-6">&quot;ADT&quot;</span><span class="hl-1">,</span><br/><span class="hl-1">    </span><span class="hl-0">msh_9_2:</span><span class="hl-1"> </span><span class="hl-6">&quot;A01&quot;</span><span class="hl-1">,</span><br/><span class="hl-1">    </span><span class="hl-0">msh_11_1:</span><span class="hl-1"> </span><span class="hl-6">&quot;D&quot;</span><span class="hl-1">,</span><br/><span class="hl-1">  },</span><br/><span class="hl-1">});</span><br/><br/><span class="hl-2">await</span><span class="hl-1"> </span><span class="hl-0">client</span><span class="hl-1">.</span><span class="hl-3">sendMessage</span><span class="hl-1">(</span><span class="hl-0">message</span><span class="hl-1">);</span>
</code><button type="button">Copy</button></pre>

<a id="full-documentation" class="tsd-anchor"></a><h2 class="tsd-anchor-link">Full Documentation<a href="#full-documentation" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24"><use href="assets/icons.svg#icon-anchor"></use></svg></a></h2><a id="this-library-options" class="tsd-anchor"></a><h3 class="tsd-anchor-link">This Library Options<a href="#this-library-options" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24"><use href="assets/icons.svg#icon-anchor"></use></svg></a></h3><a id="enableserver" class="tsd-anchor"></a><h3 class="tsd-anchor-link"><code>enableServer</code><a href="#enableserver" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24"><use href="assets/icons.svg#icon-anchor"></use></svg></a></h3><p>If this is not set, enableServer will be set to <code>true</code>. You need to set this to <code>false</code> will turn off the server capabilities.</p>
<a id="serveroptions" class="tsd-anchor"></a><h3 class="tsd-anchor-link"><code>serverOptions</code><a href="#serveroptions" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24"><use href="assets/icons.svg#icon-anchor"></use></svg></a></h3><p>Set this using the options from the <a href="https://github.com/Bugs5382/node-hl7-server/blob/main/README.md">node-hl7-serer</a> library ServerOptions values to override server creation.
This could be enabling IPv4 or IPv6 and other server options including TLS. Since you cannot set this after run time, it has to be set during registration.</p>
<a id="external-libraries-options" class="tsd-anchor"></a><h3 class="tsd-anchor-link">External Libraries Options<a href="#external-libraries-options" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24"><use href="assets/icons.svg#icon-anchor"></use></svg></a></h3><ul>
<li><a href="https://github.com/Bugs5382/node-hl7-client/blob/main/README.md">node-hl7-client</a> - For the Client, Parser, and Builder to review their options that can be passed as props.</li>
<li><a href="https://github.com/Bugs5382/node-hl7-server/blob/main/README.md">node-hl7-server</a> - For the Server to the options that can be passed as props.</li>
</ul>
<p>Please review the libraries for more complete documentation.</p>
<a id="acknowledgements" class="tsd-anchor"></a><h2 class="tsd-anchor-link">Acknowledgements<a href="#acknowledgements" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24"><use href="assets/icons.svg#icon-anchor"></use></svg></a></h2><ul>
<li>My Wife and Baby Girl.</li>
</ul>
<a id="license" class="tsd-anchor"></a><h2 class="tsd-anchor-link">License<a href="#license" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24"><use href="assets/icons.svg#icon-anchor"></use></svg></a></h2><p>Licensed under <a href="media/LICENSE">MIT</a>.</p>
</div></div><div class="col-sidebar"><div class="page-menu"><div class="tsd-ext-version-select"><label class="settings-label" for="plugin-versions-select">Version</label><select id="plugin-versions-select" name="versions"></select></div><div class="tsd-navigation settings"><details class="tsd-accordion"><summary class="tsd-accordion-summary"><h3><svg width="20" height="20" viewBox="0 0 24 24" fill="none"><use href="assets/icons.svg#icon-chevronDown"></use></svg>Settings</h3></summary><div class="tsd-accordion-details"><div class="tsd-filter-visibility"><span class="settings-label">Member Visibility</span><ul id="tsd-filter-options"><li class="tsd-filter-item"><label class="tsd-filter-input"><input type="checkbox" id="tsd-filter-protected" name="protected"/><svg width="32" height="32" viewBox="0 0 32 32" aria-hidden="true"><rect class="tsd-checkbox-background" width="30" height="30" x="1" y="1" rx="6" fill="none"></rect><path class="tsd-checkbox-checkmark" d="M8.35422 16.8214L13.2143 21.75L24.6458 10.25" stroke="none" stroke-width="3.5" stroke-linejoin="round" fill="none"></path></svg><span>Protected</span></label></li><li class="tsd-filter-item"><label class="tsd-filter-input"><input type="checkbox" id="tsd-filter-inherited" name="inherited" checked/><svg width="32" height="32" viewBox="0 0 32 32" aria-hidden="true"><rect class="tsd-checkbox-background" width="30" height="30" x="1" y="1" rx="6" fill="none"></rect><path class="tsd-checkbox-checkmark" d="M8.35422 16.8214L13.2143 21.75L24.6458 10.25" stroke="none" stroke-width="3.5" stroke-linejoin="round" fill="none"></path></svg><span>Inherited</span></label></li><li class="tsd-filter-item"><label class="tsd-filter-input"><input type="checkbox" id="tsd-filter-external" name="external"/><svg width="32" height="32" viewBox="0 0 32 32" aria-hidden="true"><rect class="tsd-checkbox-background" width="30" height="30" x="1" y="1" rx="6" fill="none"></rect><path class="tsd-checkbox-checkmark" d="M8.35422 16.8214L13.2143 21.75L24.6458 10.25" stroke="none" stroke-width="3.5" stroke-linejoin="round" fill="none"></path></svg><span>External</span></label></li></ul></div><div class="tsd-theme-toggle"><label class="settings-label" for="tsd-theme">Theme</label><select id="tsd-theme"><option value="os">OS</option><option value="light">Light</option><option value="dark">Dark</option></select></div></div></details></div><details open class="tsd-accordion tsd-page-navigation"><summary class="tsd-accordion-summary"><h3><svg width="20" height="20" viewBox="0 0 24 24" fill="none"><use href="assets/icons.svg#icon-chevronDown"></use></svg>On This Page</h3></summary><div class="tsd-accordion-details"><a href="#fastify-hl7"><span>Fastify HL7</span></a><ul><li><a href="#table-of-contents"><span>Table of <wbr/>Contents</span></a></li><li><a href="#install"><span>Install</span></a></li><li><a href="#basic-usage"><span>Basic <wbr/>Usage</span></a></li><li><ul><li><a href="#server-quick-start"><span>Server <wbr/>Quick <wbr/>Start</span></a></li><li><a href="#client-quick-start"><span>Client <wbr/>Quick <wbr/>Start</span></a></li></ul></li><li><a href="#full-documentation"><span>Full <wbr/>Documentation</span></a></li><li><ul><li><a href="#this-library-options"><span>This <wbr/>Library <wbr/>Options</span></a></li><li><a href="#enableserver"><span>enable<wbr/>Server</span></a></li><li><a href="#serveroptions"><span>server<wbr/>Options</span></a></li><li><a href="#external-libraries-options"><span>External <wbr/>Libraries <wbr/>Options</span></a></li></ul></li><li><a href="#acknowledgements"><span>Acknowledgements</span></a></li><li><a href="#license"><span>License</span></a></li></ul></div></details></div><div class="site-menu"><nav id="tsd-sidebar-links" class="tsd-navigation"><a href="https://github.com/Bugs5382/fastify-hl7">View source on GitHub</a></nav><nav class="tsd-navigation"><a href="modules.html">Fastify HL7 - v3.2.0</a><ul class="tsd-small-nested-navigation" id="tsd-nav-container"><li>Loading...</li></ul></nav></div></div></div><footer><p class="tsd-generator">Generated using <a href="https://typedoc.org/" target="_blank">TypeDoc</a></p></footer><div class="overlay"></div><script src="assets/versionsMenu.js" type="module"></script></body></html>
